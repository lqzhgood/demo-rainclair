<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <title>Rainclair</title>
</head>

<body>
    <div class="container">
        <div class="yuxi">YUXI</div>
        <div class="cloud"></div>
    </div>
    <script>

        let isHover = false;
        document.querySelector(".container").addEventListener('mouseenter', () => {
            isHover = true;
        })
        document.querySelector(".container").addEventListener('mouseleave', () => {
            isHover = false;
        })

        function generateText() {
            const letters = [];
            const numbers = [];

            const a = "a".charCodeAt(0);

            for (let i = 0; i < 26; i++) {
                letters.push(String.fromCharCode(a + i));

                if (i < 9) {
                    numbers.push(i + 1);
                }
            };

            return [...letters, ...numbers];
        };

        function randomText() {
            // const texts = generateText();
            const t1 = ['y', 'u', 'x', 'i'];
            const t2 = ['审美', '对齐', '点击', '还原度', '标注', '规范', '统一', '组件', '全部要改', '微笑体', '切图', 'svg', '做不了', '1px', '那我不管', '同比', '环比', 'ROI', '动态', 'border', '语音',];
            const texts = isHover ? t2 : t1;
            const text = texts[Math.floor(Math.random() * texts.length)];

            return text;
        };

        function rainEffect() {
            const cloudEle = document.querySelector(".cloud");
            const textEle = document.createElement("div");
            // const MAX_NUM = 10;

            textEle.innerText = randomText();
            textEle.classList.add("text");

            // const randomVal = Math.floor(Math.random() * MAX_NUM);
            // console.log(randomVal)
            const left = Math.floor(Math.random() * 310);
            const size = Math.random() * 1.5;
            const duration = Math.random();
            const styleSheets = {
                left: `${left}px`,
                fontSize: `${0.5 + size}em`,
                animationDuration: `${1 + duration}s`,
            };
            Object.assign(textEle.style, styleSheets);
            // textEle.style.setProperty("--random-y", `${290 - randomVal}px`);
            // textEle.style.setProperty("--random-x", `${-randomVal}px`);

            cloudEle.appendChild(textEle);
            setTimeout(() => {
                cloudEle.removeChild(textEle);
            }, 2000);
            window.requestAnimationFrame(rainEffect);
        };

        // setInterval(() => rainEffect(), 20);
        rainEffect();


    </script>
</body>
<style>
    /*google-fonts*/
    @import url('https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900&display=swap');

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --body-color: #181c1f;
        --primary-color: #ffffff;
    }

    body {
        font-family: 'Poppins', sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background-color: var(--body-color);
    }

    .container {
        width: 100%;
        height: 400px;
        display: flex;
        justify-content: center;
        border-bottom: 1px solid rgba(255, 255, 255, .1);
        -webkit-box-reflect: below 1px linear-gradient(transparent, transparent, transparent, transparent, #0005);
        position: relative;
    }

    .yuxi {
        position: absolute;
        text-align: center;
        font-size: 30px;
        z-index: 999;
        top: 60px;
        letter-spacing: 10px;
        font-weight: bold;
        font-family: Verdana,
            Geneva,
            sans-serif;
        color: rgba(100, 10, 0, 0.05);
        /* text-shadow: 0 0 2px #686868, 0 1px 1px #ddd, 0 2px 1px #d5d5d5, 0 3px 1px #ccc, 0 4px 1px #c5c5c5,
            0 5px 1px #c1c1c1, 0 6px 1px #bbb, 0 7px 1px #777, 0 8px 3px rgba(100, 100, 100, 0.4), 0 9px 5px rgba(100,
                100, 100, 0.09), 0 10px 7px rgba(100, 100, 100, 0.14), 0 11px 9px rgba(100, 100, 100, 0.2), 0 12px 11px rgba(100, 100,
                100, 0.24), 0 13px 15px rgba(100, 100, 100, 0.29); */
        text-shadow: 0 0 2px rgba(255, 165, 0, 0.3),
            0 1px 1px rgba(255, 200, 100, 0.5),
            0 2px 1px rgba(255, 180, 80, 0.4),
            0 3px 1px rgba(255, 160, 60, 0.4),
            0 4px 1px rgba(255, 140, 40, 0.4),
            0 5px 1px rgba(255, 120, 20, 0.4),
            0 6px 1px rgba(255, 100, 0, 0.4),
            0 7px 1px rgba(220, 80, 0, 0.4),
            0 8px 3px rgba(200, 60, 0, 0.3),
            0 9px 5px rgba(180, 50, 0, 0.2),
            0 10px 7px rgba(160, 40, 0, 0.15),
            0 11px 9px rgba(140, 30, 0, 0.1),
            0 12px 11px rgba(120, 20, 0, 0.08),
            0 13px 15px rgba(100, 10, 0, 0.05);
        background-color: #fff;
        opacity: 1;
        transition: all 0.5s;
    }

    .container:hover .yuxi {
        top: 55px;
        opacity: 0;
    }

    .container:hover .cloud {
        filter: drop-shadow(0 0 30px var(--primary-color));

    }

    .container:hover .cloud .text {
        --primary-color: #eee80;
        text-shadow: 0 0 3px var(--primary-color), 0 0 6px var(--primary-color), 0 0 12px var(--primary-color);
    }

    .cloud {
        position: relative;
        top: 50px;
        z-index: 100;

        /* 横向云朵 */
        width: 320px;
        height: 100px;
        background-color: var(--primary-color);
        border-radius: 100px;

        /* drop-shadow函数将阴影效果应用于投影图像 */
        /* filter: drop-shadow(0 0 30px var(--primary-color)); */
        filter: drop-shadow(0 0 10px var(--primary-color));
        transition: all 1s;
    }

    .cloud::before {
        content: "";
        /* 侧小云朵 */
        width: 110px;
        height: 110px;
        background-color: var(--primary-color);
        border-radius: 50%;
        position: absolute;
        top: -50px;
        left: 40px;

        /* 侧大云朵 */
        box-shadow: 90px 0 0 30px var(--primary-color);
    }

    .cloud .text {
        position: absolute;
        top: 40px;
        height: 20px;
        line-height: 20px;

        text-transform: uppercase;
        color: var(--primary-color);
        /* 为文字添加阴影，看上去发光，增加视觉效果 */
        text-shadow: 0 0 5px var(--primary-color), 0 0 15px var(--primary-color), 0 0 30px var(--primary-color);
        transform-origin: bottom;
        animation: animate 2s linear forwards;
        white-space: nowrap;
        transition: all 0.3s;
    }

    @keyframes animate {
        0% {
            transform: translateX(0);
        }

        70% {
            transform: translateY(290px);
        }

        100% {
            transform: translateY(290px);
            /* transform: translate(var(--random-x, 2px), var(--random-y, 290px)); */
        }
    }
</style>

</html>
